class ColorUtils{static hexToRGB(e){let t=parseInt(e.slice(1,3),16),$=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return{r:t,g:$,b:r}}static rgbToHex(e,t,$){return"#"+[e,t,$].map(e=>e.toString(16).padStart(2,"0")).join("").toUpperCase()}static hexToHSL(e){let{r:t,g:$,b:r}=this.hexToRGB(e);t/=255,$/=255,r/=255;let o=Math.max(t,$,r),a=Math.min(t,$,r),s,l,n=(o+a)/2;if(o===a)s=l=0;else{let i=o-a;switch(l=n>.5?i/(2-o-a):i/(o+a),o){case t:s=($-r)/i+($<r?6:0);break;case $:s=(r-t)/i+2;break;case r:s=(t-$)/i+4}s/=6}return{h:Math.round(360*s),s:Math.round(100*l),l:Math.round(100*n)}}static hslToHex(e,t,$){e=Math.abs(e%360),t=Math.max(0,Math.min(100,t)),$=Math.max(0,Math.min(100,$)),t/=100,$/=100;let r=t*Math.min($,1-$),o=t=>{let o=(t+e/30)%12,a=$-r*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(Math.max(0,Math.min(255,255*a))).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`.toUpperCase()}static generateShades(e){let{h:t,s:$,l:r}=this.hexToHSL(e);return Object.entries(window.COLOR_CONSTANTS.SHADE_DEFINITIONS).map(([e,r])=>{let o=Math.max(Math.min($*r.s,100),0),a=Math.max(Math.min(r.l,100),0);return{shade:parseInt(e),color:this.hslToHex(t,o,a)}})}static getContrastColor(e){let{r:t,g:$,b:r}=this.hexToRGB(e);return(.299*t+.587*$+.114*r)/255>.5?"#000000":"#FFFFFF"}static isValidHex(e){return/^#[0-9A-F]{6}$/i.test(e)}static generateRandomColor(){if(.3>Math.random()){let e=Object.values(window.COLOR_CONSTANTS.PRESET_COLORS),t=e[Math.floor(Math.random()*e.length)],$=Object.values(t);return $[Math.floor(Math.random()*$.length)]}return this.hslToHex(Math.floor(360*Math.random()),Math.floor(30*Math.random())+60,Math.floor(20*Math.random())+40)}static getColorName(e){if("#000000"===e.toLowerCase())return"Black";if("#ffffff"===e.toLowerCase())return"White";let{h:t}=this.hexToHSL(e),$=window.COLOR_CONSTANTS.COLOR_NAMES.find(({range:e})=>t>=e[0]&&t<e[1]);return $?$.name:"Color"}static generateShades(e){if("#000000"===e.toLowerCase())return[{shade:50,color:"#F2F2F2"},{shade:100,color:"#E6E6E6"},{shade:200,color:"#CCCCCC"},{shade:300,color:"#B3B3B3"},{shade:400,color:"#808080"},{shade:500,color:"#666666",isInput:!0},{shade:600,color:"#4D4D4D"},{shade:700,color:"#333333"},{shade:800,color:"#1A1A1A"},{shade:900,color:"#0D0D0D"},{shade:950,color:"#000000"}];let{h:t,s:$,l:r}=this.hexToHSL(e);return Object.entries(window.COLOR_CONSTANTS.SHADE_DEFINITIONS).map(([r,o])=>{let a=Math.max(0,Math.min(100,$*o.s)),s=Math.max(0,Math.min(100,o.l)),l=this.hslToHex(t,a,s);return{shade:parseInt(r),color:l,isInput:l.toLowerCase()===e.toLowerCase()}})}static formatExport(e,t){let $=e.toLowerCase().replace(/\s+/g,"-");return{colors:{[$]:t.reduce((e,{shade:t,color:$})=>(e[t]=$.toLowerCase(),e),{})}}}}